@import 'type';
@import 'split';

/**
 * Replace
 * @param String $search  The value being searched
 * @param String $replace The replacement value
 * @parem String $subject The string being searched and replaced on
 *
 * @return String
 */

@function replace($search, $replace, $subject) {
  $searchIndex: str-index($subject, $search);
  @if isString($search) and isString($replace) and isString($subject) and $searchIndex {
    $subjectStart: str-slice($subject, 1, $searchIndex - 1);
    $subjectEnd: str-slice($subject, $searchIndex + str-length($search));
    $newSubject: $subjectStart + $replace + $subjectEnd;
    @return replace($search, $replace, $newSubject);
  } @else {
    @return $subject;
  }
}

@function stripSpaces($string) {
  @return replace(' ', '', #{$string}); 
}

/**
 * Transform camelCase to kebab-case
 * @param String $string The string to modify
 *
 * @return String
 */
@function toKebabCase($string) {
  $kebabString: '';
  @for $i from 1 through str-length($string) {
    $character: str-slice($string, $i, $i);
    $kebabString: $kebabString + if($character == to-lower-case($character) or $i == 1, to-lower-case($character), to-lower-case(-#{$character}));
  }
  @return $kebabString;
}

/**
 * Convert to type
 * @param String $type to be converted into
 * @param Mixed $data data to check
 *
 * @return String
 */
@function toType($type, $data) {
  @if type-of($data) == $type {
    @return $data;
  }
  @if $type == 'color' {
    @return unquote($data);
  }
  @if $type == 'number' {
    @return toNumber($data);
  }
  @if $type == 'map' {
    ///@todo
    @return toNumber($data);
  }
  @return $data;
}

/**
 * Remove element from a list
 * @param List $list
 * @param Number $index List index to remove
 *
 * @return List
 */
@function removeFromList($list, $index) {
  @if isNotList($list)
    or isNotNumber($index) {
    @return $list;
  }
  $newList: ();
  @for $i from 1 through length($list) {
    @if ($i != $index) {
      $newList: append($newList, nth($list, $i) , $separator: comma)
    }
  }
  @return $newList;
}
